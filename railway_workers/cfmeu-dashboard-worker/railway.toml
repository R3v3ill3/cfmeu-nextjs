[build]
# Use Railpack with pnpm for dependency installation (matches root project)
# pnpm is only needed during build, not at runtime
builder = "RAILPACK"
command = "npm install -g pnpm && pnpm install && pnpm run build"

[deploy]
# Run the compiled code directly - bypasses any package manager issues
# This works because the code is already compiled to dist/index.js during build
startCommand = "node dist/index.js"
restartPolicyType = "ON_FAILURE"
restartPolicyMaxRetries = 10

# Health check configuration
# Railway will check /health endpoint to ensure container is alive
healthcheckPath = "/health"
healthcheckTimeout = 30
initialDelay = 30

